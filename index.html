<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Minha IA - Gemini 4.5</title>

<style>
    body { font-family: Arial; background:#111; color:white; padding:20px; }
    input, textarea, button {
        width:100%; padding:10px; margin-top:10px;
        border:none; border-radius:6px; font-size:16px;
    }
    button { background:#4CAF50; color:white; font-weight:bold; cursor:pointer; }
    #responseBox {
        background:#222; padding:15px; border-radius:6px;
        height:200px; overflow-y:scroll; margin-top:10px; white-space:pre-wrap;
    }
    #copyBtn { background:#008CBA; }
</style>
</head>
<body>

<h2>ðŸ’¬ IA com Gemini 4.5 Flash</h2>

<label>API Key:</label>
<input type="text" id="apiKey" placeholder="Cole sua API aqui">

<label>Prompt da IA:</label>
<textarea id="prompt" placeholder="Como vocÃª quer que a IA responda?"></textarea>

<label>Sua mensagem:</label>
<textarea id="userMessage" placeholder="Digite sua pergunta"></textarea>

<button onclick="sendMessage()">Enviar</button>

<h3>Resposta:</h3>
<div id="responseBox">A resposta aparece aqui...</div>

<button id="copyBtn" onclick="copyResponse()">Copiar Resposta</button>

<script>
async function sendMessage() {
    const apiKey = document.getElementById("apiKey").value;
    const prompt = document.getElementById("prompt").value;
    const userMsg = document.getElementById("userMessage").value;

    document.getElementById("responseBox").textContent = "Gerando resposta...";

    try {
        const response = await fetch(
            "https://generativelanguage.googleapis.com/v1beta/models/gemini-4.5-flash:generateContent?key=" + apiKey,
            {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    contents: [{
                        parts: [{
                            text: prompt + "\n\nUsuÃ¡rio: " + userMsg
                        }]
                    }]
                })
            }
        );

        const data = await response.json();

        const text =
            data?.candidates?.[0]?.content?.parts?.[0]?.text ||
            "Erro: resposta vazia.";

        document.getElementById("responseBox").textContent = text;

    } catch (e) {
        document.getElementById("responseBox").textContent =
            "Erro ao conectar com a API.";
    }
}

function copyResponse() {
    const text = document.getElementById("responseBox").textContent;
    navigator.clipboard.writeText(text);
    alert("Resposta copiada!");
}
</script>

</body>
</html>
